{
  "name": "fibo.github.io",
  "version": "1.0.0",
  "description": "My digital copybook",
  "homepage": "http://g14n.info",
  "private": true,
  "scripts": {
    "build": "npm run cp; npm run readmes; npm run data",
    "cp": "npm run cp:metadata",
    "cp:metadata": "npm run cp:metadata:package.json",
    "cp:metadata:package.json": "cp package.json _data/",
    "data": "npm run data:github:repos; npm run data:github:users:fibo",
    "data:github:repos": "token=$(cat .gh-token); cd _data/github/repos/; for repo in $(ls | while read filename; do echo ${filename%.json}; done | grep -v dotsoftware); do curl -u fibo:$token https://api.github.com/repos/fibo/$repo > ${repo}.json; done; curl -s -u fibo:$token https://api.github.com/repos/fibo/.software > dotsoftware.json; cd -",
    "data:github:users:fibo": "curl -u fibo:$(cat .gh-token) https://api.github.com/user > _data/github/users/fibo.json",
    "decrypt:.gh-token": "keybase decrypt -o .gh-token .gh-token.asc",
    "readmes": "for repo in $(ls -1 _projects/ | grep -v _readmes | grep -v dotsoftware); do wget -nv https://raw.githubusercontent.com/fibo/$repo/master/README.md -O _projects/_readmes/${repo}-readme.md; cat _projects/$repo/index.yaml _projects/_readmes/${repo}-readme.md > _projects/$repo/index.md; done; wget -nv https://raw.githubusercontent.com/fibo/.software/master/README.md -O _projects/_readmes/dotsoftware-readme.md; cat _projects/dotsoftware/index.yaml _projects/_readmes/dotsoftware-readme.md > _projects/dotsoftware/index.md",
    "start": "jekyll serve --incremental -H dev.g14n.info",
    "test": "echo \"Error: no test specified\" && exit 1",
    "worker": "while true; do npm run data; sleep 30; npm run readmes; sleep 30; git add . && git commit -m 'updated metadata' && git push origin master; sleep 30; done"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/fibo/fibo.github.io.git"
  },
  "author": {
    "name": "Gianluca Casati",
    "url": "http://g14n.info"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/fibo/fibo.github.io/issues"
  },
  "dependencies": {},
  "devDependencies": {
    "keybase": "^0.8.25"
  }
}
